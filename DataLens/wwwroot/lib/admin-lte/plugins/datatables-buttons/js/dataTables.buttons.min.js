/*!
 * Buttons for DataTables 2.2.3
 * Â©2016-2021 SpryMedia Ltd - datatables.net/license
 */
!function(n){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],function(e){return n(e,window,document)}):("object"==typeof exports&&(module.exports=function(e,t){return e||(e=window),t&&t.fn.dataTable||(t=require("datatables.net")(e,t).$),n(t,e,e.document)}),n(jQuery,window,document))}(function(v,e,M,t){"use strict";var l=v.fn.dataTable,C=0,r=0,d=l.ext.buttons,s=function(e,t){!0===t&&(t={}),Array.isArray(t)&&(t={buttons:t}),this.c=v.extend(!0,{},s.defaults,t),t.buttons&&(this.c.buttons=t.buttons),this.s={dt:new l.Api(e),buttons:[],listenKeys:"",namespace:"dtb"+C++},this.dom={container:v("<"+this.c.dom.container.tag+"/>").addClass(this.c.dom.container.className)},this._constructor()};v.extend(s.prototype,{action:function(e,t){var n=this._nodeToButton(e);if(t===M)return n.conf.action;n.conf.action=t},active:function(e,t){var n=this._nodeToButton(e),s=this.c.dom.button.active;if(n.node.hasClass(s)){if(t===M)return!0;t===!1&&n.node.removeClass(s)}else{if(t===M)return!1;!0===t&&n.node.addClass(s)}},add:function(e,t){var n=this.s.buttons;if("string"==typeof t){for(var s=t.split("-"),o=this.s,r=0,i=s.length-1;r<i;r++)o=o.buttons[1*s[r]];n=o.buttons,t=1*s[s.length-1]}return this._expandButton(n,e,e!==M,t),this._draw(),this},container:function(){return this.dom.container},disable:function(e){var t=this._nodeToButton(e);t.node.addClass(this.c.dom.button.disabled).attr("disabled",!0)},destroy:function(){v(".dtb-"+this.s.namespace).off("keyup.dtb"),v(this.s.dt.table().body()).off(".dtb"),v(this.s.dt.table().container()).off(".dtb"),this.c.attach.indexOf("body")!==-1&&v(M.body).off("click.dtb-"+this.s.namespace),this.dom.container.remove(),this.s.dt.off(".dtb")},enable:function(e,t){if(!1===t)return this.disable(e);var n=this._nodeToButton(e);n.node.removeClass(this.c.dom.button.disabled).removeAttr("disabled")},name:function(){return this.c.name},node:function(e){if(!e)return this.dom.container;var t=this._nodeToButton(e);return t.node},processing:function(e,t){var n=this.s.dt,s=this._nodeToButton(e);return t===M?s.node.hasClass("processing"):(s.node.toggleClass("processing",t),v(n.table().node()).triggerHandler("buttons-processing.dt",[t,n.button(s.node),s.node,s.conf]),this)},remove:function(e){var t=this._nodeToButton(e),n=this._nodeToHost(e),s=this.s.dt;if(t.buttons.length)for(var o=t.buttons.length-1;0<=o;o--)this.remove(t.buttons[o].node);t.node.remove();var r=v.inArray(t,n);return n.splice(r,1),this._draw(),this},text:function(e,t){var n=this._nodeToButton(e),s=this.c.dom.collection.buttonLiner,o=n.node,r=this.s.dt,i=function(e){return"function"==typeof e?e(r,o,n.conf):e};if(t===M)return i(n.conf.text);n.conf.text=t,s?o.children(s).html(i(t)):o.html(i(t))},_constructor:function(){var s=this,e=this.s.dt,o=e.settings()[0],t=this.c.buttons;o._buttons||(o._buttons=[]),o._buttons.push({inst:this,name:this.c.name});for(var n=0,r=t.length;n<r;n++)this.add(t[n]);e.on("destroy",function(e,t){t===o&&s.destroy()}),v(M).on("keyup.dtb-"+this.s.namespace,function(e){if(!M.activeElement||M.activeElement===M.body){var t=String.fromCharCode(e.keyCode).toLowerCase();s.s.listenKeys.toLowerCase().indexOf(t)!==-1&&s._keypress(t,e)}}),this._draw()},_addKey:function(e){e.key&&(this.s.listenKeys+=v.isArray(e.key)?e.key.join(""):e.key)},_draw:function(){var e=this.dom.container.children().detach();this.dom.container.empty();for(var t=0,n=this.s.buttons.length;t<n;t++)this.dom.container.append(this.s.buttons[t].inserter),this.dom.container.append(" "),this._addKey(this.s.buttons[t].conf);this.c.attach.split(" ").forEach(function(t){"body"===t?v(M.body).append(this.dom.container):v(t,this.s.dt.table().container()).append(this.dom.container)},this)},_expandButton:function(e,t,n,s,o){var r=this.s.dt,i=0,l=Array.isArray(t)?t:[t];t===M&&(l=[{}]);for(var a=0,d=l.length;a<d;a++){var c=this._resolveExtends(l[a]);if(c)if(Array.isArray(c))this._expandButton(e,c,n,s,o);else{var u=this._buildButton(c,o);if(u){var h=this.c.dom.buttonContainer,f=h.tag;h.className&&f.className!==h.className&&(u.node.addClass(h.className),f.className=h.className);var p="number"==typeof s?s:i;e.splice(p,0,u),i++}}}},_buildButton:function(e,t){var n,s,o,r=this.c.dom.button,i=this.c.dom.buttonLiner,l=this.c.dom.collection,a=this.s.dt,d=function(e){return"function"==typeof e?e(a,o,e):e};if(Array.isArray(e.text)||e.text)n=e.text;else{if("function"!=typeof e.text&&e.text!==M)return!1;n=e.text}if(Array.isArray(e.className)||e.className)s=e.className;else s=e.className;!1!==e.available||e.hasOwnProperty("available")||(e.available=function(e,t){return e.oFeatures.bProcessing});var c=function(e,t,n,s){s.action.call(t.button(n),e,t,n,s),v(t.table().node()).triggerHandler("buttons-action.dt",[t.button(n),t,n,s])};(o=v("<"+r.tag+"/>").addClass(r.className).attr("tabindex",this.s.dt.settings()[0].iTabIndex).attr("aria-controls",this.s.dt.table().node().id).on("click.dtb",function(e){e.preventDefault(),!o.hasClass(r.disabled)&&"function"==typeof u.action&&c(e,a,o,u),o.trigger("blur")}).on("keyup.dtb",function(e){13===e.keyCode&&!o.hasClass(r.disabled)&&"function"==typeof u.action&&c(e,a,o,u)}),"a"===r.tag.toLowerCase()&&o.attr("href","#"),"button"===r.tag.toLowerCase()&&o.attr("type","button"),i.tag){var u={conf:e,node:o.append(v("<"+i.tag+"/>").addClass(i.className).html(d(n))),inserter:o,buttons:[],inCollection:t,collection:null};o.children().attr("role","presentation")}else u={conf:e,node:o.html(d(n)),inserter:o,buttons:[],inCollection:t,collection:null};return u.conf.namespace===M&&(u.conf.namespace=this.s.namespace),u.conf.scope===M&&(u.conf.scope="row"),i.tag&&i.className&&o.children().addClass(i.className),e.action&&(u.action=e.action),e.attr&&o.attr(e.attr),e.className&&o.addClass(d(e.className)),e.titleAttr&&o.attr("title",d(e.titleAttr)),e.text||o.attr("aria-label",this.s.dt.i18n("buttons.aria.button","Button")),e.action||(e.buttons||e.split)&&o.attr("aria-haspopup",!0),e.buttons||e.split?((h=v("<"+l.tag+"/>")).addClass(l.className).attr("role","menu"),u.collection=h,this._expandButton(u.buttons,e.buttons,!0,0,!0),o.addClass(l.button.className).attr("aria-expanded",!1),e.autoClose!==M&&!1===e.autoClose||(h.addClass(l.autoClose),o.addClass(l.background)),e.fade!==M&&!1===e.fade||h.addClass(l.fade),e.rightAlignMenu&&h.addClass(l.rightAligned),e.dropup&&h.addClass(l.dropup),e.split):(f=v.extend(e,{text:e.split,className:e.splitClassName||e.className,action:function(e,t,n,s){c(e,t,n,s.conf._collection.conf)}}),this._buildButton(f,!0),o.append(h),u.conf._collection={action:e.action,attr:e.attr,className:e.className,conf:e,text:e.text}):o.append(h);else if(e.available&&!e.available(a,e)&&!e.hasOwnProperty("html"))return!1;var h;return e.hasOwnProperty("html")?o.html(e.html):e.text===M&&e.html===M&&(o.html("&nbsp;"),o.attr("aria-label",this.s.dt.i18n("buttons.aria.button","Button"))),!e.hasOwnProperty("available")||e.available(a,e)?(!e.init||e.init.call(o,a,o,e),this._addKey(e),this.s.buttons.push(u),e.buttons&&this._buildButton(e.buttons,!0),u):!1},_nodeToButton:function(e,t){t||(t=this.s.buttons);for(var n=0,s=t.length;n<s;n++){if(t[n].node===e)return t[n];if(t[n].buttons.length){var o=this._nodeToButton(e,t[n].buttons);if(o)return o}}},_nodeToHost:function(e,t){t||(t=this.s.buttons);for(var n=0,s=t.length;n<s;n++){if(t[n].node===e)return t;if(t[n].buttons.length){var o=this._nodeToHost(e,t[n].buttons);if(o)return o}}},_keypress:function(s,o){if(!o._buttonsHandled){var e=function(e){for(var t=0,n=e.length;t<n;t++){var s=e[t].conf,o=e[t].node;s.key&&(s.key===r||Array.isArray(s.key)&&-1!==s.key.indexOf(r))&&(o.click(),o._buttonsHandled=!0),e[t].buttons.length&&e(e[t].buttons)}},r=s.toLowerCase();e(this.s.buttons)}},_removeKey:function(e){if(e.key){var t=v.isArray(e.key)?e.key.join(""):e.key,n=this.s.listenKeys.split("");for(var s=0,o=n.length;s<o;s++)if(n[s]===t[s]){n.splice(s,1);break}this.s.listenKeys=n.join("")}},_resolveExtends:function(e){var t,n,s,o,r=this.s.dt,i=function(e){for(var t=0;!v.isPlainObject(e)&&!Array.isArray(e);){if(e===M)return;if("function"==typeof e){if(!(e=e(r,e)))return!1}else if("string"==typeof e){if(!d[e])return{html:e};e=d[e]}if(30<++t)throw"Buttons: Too many iterations"}return Array.isArray(e)?e:v.extend({},e)};for(e=i(e);e&&e.extend;){if(!d[e.extend])throw"Cannot extend unknown button type: "+e.extend;var l=i(d[e.extend]);if(Array.isArray(l))return l;if(!l)return!1;t=l.className,s=e.config!==M&&l.config!==M?v.extend({},l.config,e.config):M,e=v.extend({},l,e),s!==M&&(e.config=s),t&&e.className!==t&&(e.className=t+" "+e.className),n=e.postfixButtons,o=e.prefixButtons,n&&(Array.isArray(n)||(n=[n]),e.buttons||(e.buttons=[]),e.buttons.push.apply(e.buttons,n.slice())),o&&(Array.isArray(o)||(o=[o]),e.buttons||(e.buttons=[]),e.buttons.splice.apply(e.buttons,[0,0].concat(o.slice())))}return e},_popover:function(s,e,t,n){var o,r,i=this.c.dom.collection,l=!1,a=v.extend({align:"button-left",autoClose:!1,background:!0,backgroundClassName:"dt-button-background",contentClassName:i.className,collectionLayout:"",collectionTitle:"",dropup:!1,fade:600,rightAlignMenu:!1,popoverTitle:""},t),d=e.node(),c=function(){l=!0,v(M).off("click.dtb-collection"),v("body").off(".dtb-collection"),v("#dtb-collection").remove(),v("div.dt-button-background").off("click.dtb-collection"),v("div.dt-button-background").remove(),v("body").removeClass("dt-blur"),e.buttons(s.conf.buttons).container().appendTo(e.container()).show(),e.active(!1)};d.attr("aria-expanded","true"),s.conf.popoverTitle&&(o=v('<div class="dt-button-collection-title">').html(s.conf.popoverTitle)),r=v('<div id="dtb-collection" class="'+a.contentClassName+' "+a.collectionLayout+'">'+(s.conf.collectionTitle?'<div class="dt-button-collection-title">'+s.conf.collectionTitle+"</div>":"")+'</div>').append(o).append(e.buttons(s.conf.buttons).container().removeClass(i.className).show()).css("display","none");var u=d.position(),h=d.outerHeight(),f=d.outerWidth(),p=v(e.table().container()),g=p.position(),m=p.outerWidth(),b=p.outerHeight(),w=M.body.scrollTop||M.documentElement.scrollTop,y=g.top+p.offset().top,x=u.left+d.offset().left;a.rightAlignMenu&&(x-=r.outerWidth()-f),a.dropup&&(y-=r.outerHeight()-h),r.css({top:y,left:x}).appendTo("body"),r.stop(!0,!0).fadeIn(a.fade,function(){r.css("filter","")});var _=v(e.table().container());a.background&&v('<div class="'+a.backgroundClassName+'"/>').css("opacity",0).appendTo("body").animate({opacity:.1},a.fade),a.autoClose&&setTimeout(function(){v(M).on("click.dtb-collection",function(e){var t=v.fn.addBack?"addBack":"andSelf";!v(e.target).parents()[t]().filter(r).length&&c()})},10),v("div.dt-button-background").on("click.dtb-collection",c),v("#dtb-collection").on("click.dtb-collection","a, button",function(e){a.autoClose&&c()}),v("div.dt-button-background").on("keyup.dtb-collection",function(e){27===e.keyCode&&c()}),v("div.dt-button-collection").on("keyup.dtb-collection",function(e){27===e.keyCode&&c()})}});s.background=!0,s.collectionLayout="",s.autoClose=!0,s.fade=400,s.popoverTitle=!1,s.rightAlignMenu=!1,s.split=["excel","pdf","csv"],s.dropup=!1,s.defaults={buttons:["copy","excel","csv","pdf","print"],name:"main",tag:"div",dom:{container:{tag:"div",className:"dt-buttons"},collection:{tag:"div",className:"dt-button-collection",button:{tag:"a",className:"dt-button",active:"active",disabled:"disabled"},buttonLiner:{tag:"span",className:""},split:{tag:"div",className:"dt-button-split"},splitButton:{tag:"a",className:"dt-btn-split-drop dropdown-toggle",disabled:"disabled"},splitButtonLiner:{tag:"span",className:""}},button:{tag:"button",className:"dt-button",active:"active",disabled:"disabled"},buttonLiner:{tag:"span",className:""}},s.version="2.2.3",v.extend(d,{collection:{text:function(e){return e.i18n("buttons.collection","Collection")},className:"buttons-collection",init:function(e,t,n){t.attr("aria-expanded",!1)},action:function(e,t,n,s){s._collection.parents("body").length?this.popover(!1):this.popover(s._collection,s)},attr:{"aria-haspopup":!0}},copy:function(e,t){if(d.copyHtml5)return"copyHtml5"},csv:function(e,t){if(d.csvHtml5&&d.csvHtml5.available(e,t))return"csvHtml5"},excel:function(e,t){if(d.excelHtml5&&d.excelHtml5.available(e,t))return"excelHtml5"},pdf:function(e,t){if(d.pdfHtml5&&d.pdfHtml5.available(e,t))return"pdfHtml5"},pageLength:function(e){var t=e.settings()[0].aLengthMenu,n=Array.isArray(t[0])?t[0]:t,s=Array.isArray(t[0])?t[1]:t,o=function(e){return e.i18n("buttons.pageLength",{-1:"Show all rows",_:"Show %d rows"},e.page.len())};return{extend:"collection",text:o,className:"buttons-page-length",autoClose:!0,buttons:v.map(n,function(e,t){return{text:s[t],className:"button-page-length",action:function(e,t){t.page.len(e).draw()},init:function(e,t,n){var s=this,o=function(){s.active(e.page.len()===e)};e.on("length.dt"+n.namespace,o),o()},destroy:function(e,t,n){e.off("length.dt"+n.namespace)}}})}},print:function(e,t){return{extend:"collection",text:function(e){return e.i18n("buttons.print","Print")},className:"buttons-print",buttons:[{extend:"print",text:function(e){return e.i18n("buttons.printTable","Print table")},autoPrint:!0},{extend:"print",text:function(e){return e.i18n("buttons.printView","Print current view")},exportOptions:{modifier:{selected:null}},autoPrint:!0}]}}}),l.Api.register("buttons()",function(t,n){n===M&&(n=t,t=M),this.selector.buttonGroup=t;var e=this.iterator(!0,"table",function(e){if(e._buttons)return s.buttonSelector(s.instanceSelector(t,e._buttons),n)},!0);return e._groupSelector=t,e}),l.Api.register("button()",function(e,t){var n=this.buttons(e,t);return 1<n.length&&n.splice(1,n.length),n}),l.Api.registerPlural("buttons().active()","button().active()",function(t){return t===M?this.map(function(e){return e.inst.active(e.node)}):this.each(function(e){e.inst.active(e.node,t)})}),l.Api.registerPlural("buttons().action()","button().action()",function(t){return t===M?this.map(function(e){return e.inst.action(e.node)}):this.each(function(e){e.inst.action(e.node,t)})}),l.Api.registerPlural("buttons().collectionRebuild()","button().collectionRebuild()",function(t){return this.each(function(e){for(var t=e.inst,n=e.node;n.length;)n=t.remove(n),n=n.buttons()})}),l.Api.register(["buttons().containers()","button().container()"],function(){var t=v(),n=this._groupSelector;return this.iterator(!0,"table",function(e){if(e._buttons){var s=s.instanceSelector(n,e._buttons);for(var o=0,r=s.length;o<r;o++)t=t.add(s[o].container())}}),t}),l.Api.register(["buttons().disable()","button().disable()"],function(){return this.each(function(e){e.inst.disable(e.node)})}),l.Api.register(["buttons().enable()","button().enable()"],function(t){return this.each(function(e){e.inst.enable(e.node,t)})}),l.Api.register(["buttons().name()","button().name()"],function(){return this.map(function(e){return e.inst.name()})}),l.Api.register(["buttons().nodes()","button().node()"],function(){var t=v();return this.each(function(e){t=t.add(e.node)}),t}),l.Api.register(["buttons().processing()","button().processing()"],function(t){return t===M?this.map(function(e){return e.inst.processing(e.node)}):this.each(function(e){e.inst.processing(e.node,t)})}),l.Api.register(["buttons().remove()","button().remove()"],function(){return this.each(function(e){e.inst.remove(e.node)}),this}),l.Api.register(["buttons().text()","button().text()"],function(t){return t===M?this.map(function(e){return e.inst.text(e.node)}):this.each(function(e){e.inst.text(e.node,t)})}),l.Api.registerPlural("buttons().trigger()","button().trigger()",function(){return this.each(function(e){e.inst.node(e.node).trigger("click")})}),l.Api.register("button.add()",function(e,t){var n=this.context;if(n.length){var s=s.instanceSelector(this._groupSelector,n[0]._buttons);s.length&&s[0].add(e,t)}return this.button(this._groupSelector,t)}),l.Api.register("buttons.container()",function(){return this.buttons().container()}),l.Api.register("buttons.remove()",function(){return this.buttons().remove(),this}),l.Api.register(["buttons.copy()","button().copy()"],function(){return this.iterator(!0,"table",function(e){var t=s.instanceSelector(this._groupSelector,e._buttons);t.length&&t[0]._popover(this.button(this._groupSelector).node(),{buttons:d.copyHtml5.action.call(t[0],null,e.api(),null,{exportOptions:this.exportOptions||{}})},this.popoverOptions||{})},this)}),l.Api.register(["buttons.excel()","button().excel()"],function(){return this.iterator(!0,"table",function(e){var t=s.instanceSelector(this._groupSelector,e._buttons);t.length&&d.excelHtml5.action.call(t[0],null,e.api(),null,{exportOptions:this.exportOptions||{}})},this)}),l.Api.register(["buttons.pdf()","button().pdf()"],function(){return this.iterator(!0,"table",function(e){var t=s.instanceSelector(this._groupSelector,e._buttons);t.length&&d.pdfHtml5.action.call(t[0],null,e.api(),null,{exportOptions:this.exportOptions||{}})},this)}),l.Api.register(["buttons.csv()","button().csv()"],function(){return this.iterator(!0,"table",function(e){var t=s.instanceSelector(this._groupSelector,e._buttons);t.length&&d.csvHtml5.action.call(t[0],null,e.api(),null,{exportOptions:this.exportOptions||{}})},this)}),l.Api.register(["buttons.print()","button().print()"],function(){return this.iterator(!0,"table",function(e){var t=s.instanceSelector(this._groupSelector,e._buttons);t.length&&d.print.action.call(t[0],null,e.api(),null,{exportOptions:this.exportOptions||{}})},this)}),s.buttonSelector=function(e,t){for(var n=[],s=function(e,t,n){for(var s,o,r=0,i=t.length;r<i;r++)(s=t[r])&&(o=n!==M?n+r:r+"",e.push({node:s.node,name:s.conf.name,idx:o}),s.buttons&&e.push.apply(e,a(s.buttons,o+"-")))},o=function(e,t){var n,s,o=[];for(s.call(e,t,o),n=0,s=o.length;n<s;n++)o[n].inst=e;return o},r=0,i=e.length;r<i;r++){var l=e[r];if(Array.isArray(l))n.push.apply(n,s(l,t));else{var a=o(l,t);n.push.apply(n,a)}}return n},s.instanceSelector=function(e,t){return e===M||null===e?t:Array.isArray(e)?v.map(t,function(e,t){return-1!==v.inArray(t,e)?e:null}):"string"==typeof e?v.map(t,function(e){return e.conf.name===e?e:null}):"number"==typeof e?[t[e]]:"object"==typeof e?[e]:t},v(M).on("init.dt plugin-init.dt",function(e,t){"dt"===e.namespace&&new s(t,t.oInit.buttons||l.defaults.buttons)}),l.ext.feature.push({fnInit:function(e){var t=new s(e,e.oInit.buttons||l.defaults.buttons);return t.container()},cFeature:"B"}),s});